

// REFRESH TO CLEAR THE FORM
function updateIngredients_RELOAD( innerHTML ) {
  const newIngredientsForm = document.getElementById('new_ingredient');
  newIngredientsForm.innerHTML = innerHTML;
}

// ADD INGREDIENT TO CONTAINER
function updateIngredients_ADD( ingredientHTML ) {
  const ingredients = document.querySelector('ingredients');
  ingredients.insertAdjacentHTML( 'beforeend', ingredientHTML );
}

<% if @dose.errors.any? %>
  document.querySelector('#error_explanation') ? document.querySelector('#error_explanation').remove() : null ;

  document.querySelector('#new_dose').insertAdjacentHTML('beforeend', )

<% else %>
  
<% end %>


    <%# This selects the new author `<form>` and dynamically injects the `app/views/shared/_validation-messages.html.erb` partial. %>
    document.querySelector('#author_form').insertAdjacentHTML('afterbegin', '<%= escape_javascript(render "shared/validation-messages", object: @author) %>');
<% else %>
    <%# This removes any error messages that were previously generated. %>
    document.querySelector('#error_explanation') ? document.querySelector('#error_explanation').remove() : null ;
    <%# This searches for the currently selected author and unselects them. %>
    document.querySelector("select#post_author_id option[selected='selected']") ? document.querySelector("select#post_author_id option[selected='selected']").removeAttribute('selected') : null ;
    <%# This dynamically adds the newly created author into the author select list, and sets them to be selected. %>
    document.querySelector('select#post_author_id').insertAdjacentHTML('afterbegin', '<option value="<%= @author.id %>" selected="selected" ><%= @author.formatted_name %></option>') ;
    <%# This selects the new author `<form>` and resets the text fields. %>
    document.querySelector('#author_form').reset();
<% end %>